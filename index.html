<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MyHealthID Portal</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    *{box-sizing:border-box;margin:0;padding:0;font-family:'Roboto',sans-serif;}
    body{background:#f4f7f9;}
    header{background:#0055A4;color:white;padding:20px;text-align:center;position:sticky;top:0;z-index:10;}
    header img{height:40px;vertical-align:middle;margin-right:10px;}
    nav a{color:white;margin:0 15px;text-decoration:none;font-weight:500;}
    nav a:hover{text-decoration:underline;}
    section{padding:50px; max-width:1200px; margin:auto;}
    h2,h3{margin-bottom:20px;color:#0055A4;}
    form input, form select, form textarea{width:100%;padding:10px;margin:8px 0;border:1px solid #ccc;border-radius:5px;}
    form button{background:#00B388;color:white;padding:15px 30px;border:none;border-radius:5px;font-weight:bold;cursor:pointer;margin-top:20px;}
    form button:hover{background:#00976B;}
    .dashboard{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-top:30px;}
    .card{background:white;padding:20px;border-radius:15px;box-shadow:0 4px 10px rgba(0,0,0,0.1);text-align:center;}
    .card img{width:80px;margin-bottom:10px;}
    .tabs{display:flex;gap:10px;margin-bottom:20px;}
    .tabs button{flex:1;padding:15px;border:none;border-radius:10px;background:#00B388;color:white;font-weight:bold;cursor:pointer;}
    .tabs button.active{background:#0055A4;}
    .tab-content{display:none;background:white;padding:20px;border-radius:15px;box-shadow:0 4px 10px rgba(0,0,0,0.1);}
    .tab-content.active{display:block;}
    footer{text-align:center;padding:20px;background:#0055A4;color:white;margin-top:50px;}
    .ethiopian-flag{height:25px;vertical-align:middle;margin-left:10px;}
  </style>
</head>
<body>

<header>
  <img src="https://upload.wikimedia.org/wikipedia/commons/7/71/Flag_of_Ethiopia.svg" class="ethiopian-flag" alt="Ethiopia Flag">
  <span style="font-size:24px;font-weight:bold;">MyHealthID Portal</span>
  <nav style="margin-top:10px;">
    <a href="#home">Home</a>
    <a href="#about">About</a>
    <a href="#login">Login</a>
    <a href="#register">Patient ID</a>
    <a href="#dashboard">Dashboard</a>
    <a href="#appointments">Appointments</a>
    <a href="#chat">Chat</a>
    <a href="#history">Medical History</a>
    <a href="#admin">Admin</a>
  </nav>
</header>

<!-- Home Section -->
<section id="home">
  <h2>Welcome to MyHealthID</h2>
  <p style="font-size:18px;">Your nationwide patient identification and medication safety system. Secure, reliable, and connected healthcare for Ethiopia.</p>
  <img src="https://cdn.pixabay.com/photo/2018/03/10/23/48/doctor-3217475_960_720.jpg" style="width:100%;border-radius:15px;margin-top:20px;">
</section>

<!-- About Section -->
<section id="about">
  <h2>About MyHealthID</h2>
  <p>MyHealthID provides a unique patient ID, tracks medications, alerts for drug interactions, and allows online/offline access for doctors, patients, and healthcare administrators. Our goal is to prevent medication errors, save lives, and improve continuity of care across Ethiopia.</p>
</section>

<!-- Patient Registration Section -->
<section id="register">
  <h2>First-Time Patient Registration</h2>
  <form id="fullPatientForm" enctype="multipart/form-data">
    <h3>Personal Information</h3>
    <input type="text" name="name" placeholder="Full Name" required>
    <input type="number" name="age" placeholder="Age" required>
    <select name="sex" required>
      <option value="">Select Sex</option>
      <option>Male</option>
      <option>Female</option>
      <option>Other</option>
    </select>
    <input type="text" name="religion" placeholder="Religion">
    <input type="text" name="occupation" placeholder="Occupation">
    <input type="text" name="maritalStatus" placeholder="Marital Status">
    <input type="text" name="eduStatus" placeholder="Educational Status">
    <input type="text" name="dept" placeholder="Department">
    <input type="text" name="ward" placeholder="Ward">
    <input type="text" name="room" placeholder="Room">
    <input type="text" name="bedNo" placeholder="Bed No.">
    
    <h3>Clinical History</h3>
    <textarea name="chiefComplaint" placeholder="Chief Complaint"></textarea>
    <textarea name="hpi" placeholder="History of Present Illness"></textarea>
    <textarea name="pastMedicalHistory" placeholder="Past Medical History"></textarea>
    <textarea name="medicationsTaken" placeholder="Medications Taken"></textarea>
    <input type="file" name="nid" accept="image/*,application/pdf" required>
    <input type="file" name="photo" accept="image/*">
    <label><input type="checkbox" required> I consent to store my data securely for medical use.</label>
    <button type="submit">Submit Registration</button>
  </form>
</section>

<!-- Dashboard Section -->
<section id="dashboard">
  <h2>Dashboard</h2>
  <div class="dashboard">
    <div class="card">
      <img src="https://cdn.pixabay.com/photo/2016/11/29/03/53/ai-1869301_960_720.png" alt="AI Health">
      <h3>AI Health Tips</h3>
      <p>Get personalized AI-based health recommendations.</p>
    </div>
    <div class="card">
      <img src="https://cdn.pixabay.com/photo/2017/12/10/14/47/appointment-3013938_960_720.jpg" alt="Appointments">
      <h3>Appointments</h3>
      <p>Manage your clinic visits and schedule follow-ups.</p>
    </div>
    <div class="card">
      <img src="https://cdn.pixabay.com/photo/2017/12/27/01/31/chat-3040113_960_720.png" alt="Chat">
      <h3>Chat with Doctor</h3>
      <p>Ask questions and get advice from your doctor securely.</p>
    </div>
  </div>
</section>

<!-- Appointments Section -->
<section id="appointments">
  <h2>Appointments</h2>
  <p>Schedule, view, and manage your appointments with your healthcare providers.</p>
  <form>
    <input type="date" name="appointmentDate" required>
    <input type="time" name="appointmentTime" required>
    <textarea name="reason" placeholder="Reason for Appointment"></textarea>
    <button type="submit">Book Appointment</button>
  </form>
</section>

<!-- Chat Section -->
<section id="chat">
  <h2>Chat with Doctor</h2>
  <div style="border:1px solid #ccc; border-radius:10px; padding:10px; max-height:400px; overflow-y:auto;" id="chatBox"></div>
  <input type="text" id="userMsg" placeholder="Type your question..." style="width:80%; padding:10px; margin-top:10px;">
  <button onclick="sendMessage()" style="padding:10px;">Send</button>
</section>

<!-- Medical History Section -->
<section id="history">
  <h2>Medical History</h2>
  <div id="medicalHistory"></div>
</section>

<!-- Admin Section -->
<section id="admin">
  <h2>Admin Portal</h2>
  <p>Search patients by name or ID</p>
  <input type="text" id="searchPatient" placeholder="Enter Patient Name or ID">
  <button onclick="searchPatient()">Search</button>
  <div id="adminResults"></div>
</section>

<footer>
  MyHealthID &copy; 2025 - Ethiopia
</footer>

<script>
  // Registration form
  document.getElementById('fullPatientForm').addEventListener('submit', function(e){
    e.preventDefault();
    let formData = new FormData(this);
    let uniqueID = 'MH' + Date.now();
    formData.append('patientID', uniqueID);
    let patients = JSON.parse(localStorage.getItem('patients') || '[]');
    patients.push(Object.fromEntries(formData));
    patients.sort((a,b)=>a.name.localeCompare(b.name));
    localStorage.setItem('patients', JSON.stringify(patients));
    alert('Registration submitted! Your Patient ID: ' + uniqueID);
    this.reset();
  });

  // Chat simulation
  function sendMessage(){
    let msg = document.getElementById('userMsg').value;
    if(!msg) return;
    let chatBox = document.getElementById('chatBox');
    chatBox.innerHTML += '<p><b>You:</b> '+msg+'</p>';
    chatBox.innerHTML += '<p><b>AI Doctor:</b> This is a simulated response. Your query will be answered by a healthcare professional.</p>';
    chatBox.scrollTop = chatBox.scrollHeight;
    document.getElementById('userMsg').value='';
  }

  // Admin search
  function searchPatient(){
    let query = document.getElementById('searchPatient').value.toLowerCase();
    let patients = JSON.parse(localStorage.getItem('patients') || '[]');
    let results = patients.filter(p=>p.name.toLowerCase().includes(query) || p.patientID.toLowerCase().includes(query));
    let html = '';
    results.forEach(p=>{
      html += `<div style="border:1px solid #ccc;padding:10px;margin:10px;border-radius:10px;">
        <p><b>ID:</b> ${p.patientID}</p>
        <p><b>Name:</b> ${p.name}</p>
        <p><b>Age:</b> ${p.age}</p>
        <p><b>Sex:</b> ${p.sex}</p>
        <p><b>Chief Complaint:</b> ${p.chiefComplaint || 'N/A'}</p>
      </div>`;
    });
    document.getElementById('adminResults').innerHTML = html || 'No results found.';
  }
</script>

</body>
</html>
